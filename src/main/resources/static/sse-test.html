<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>SSE Test</title>
</head>
<body>
<h2>ğŸ“¡ AI ì‘ë‹µ SSE ìŠ¤íŠ¸ë¦¬ë° ë³´ê¸°</h2>
<div id="output"></div>

<script>
  const memberId = '1'; // í…ŒìŠ¤íŠ¸ìš© ì‚¬ìš©ì ID
  const eventSource = new EventSource(`http://localhost:8080/chat/stream?memberId=${memberId}`);
  const output = document.getElementById("output");

  eventSource.onmessage = (event) => {
    const p = document.createElement("p");
    p.textContent = `ğŸ’¬ ${event.data}`;
    output.appendChild(p);
  };

  eventSource.onerror = (err) => {
    console.error("SSE ì—°ê²° ì˜¤ë¥˜", err);
    eventSource.close();
  };
</script>
</body>
</html>