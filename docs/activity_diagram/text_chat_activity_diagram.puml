@startuml
|사용자|
start

:캐릭터 목록 조회;
:원하는 캐릭터 선택;
:채팅방 생성;

|클라이언트|
:채팅 스트림 구독;

repeat
|사용자|
:채팅 메시지 입력;

|클라이언트|
:채팅 메시지 전송;

|서버|
:캐릭터 응답 생성;
:캐릭터 응답 스트림에 발행;

|클라이언트|
:캐릭터 응답 출력;
repeat while (사용자가 채팅방에서 나갈 때까지)

|사용자|
:채팅방 나가기;

|클라이언트|
:채팅 스트림 구독 해제;

stop
@enduml